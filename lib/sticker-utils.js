const _0x5a8cef=_0x5aa8;(function(_0x4ce489,_0x47ebc6){const _0x2d473a=_0x5aa8,_0x43bdff=_0x4ce489();while(!![]){try{const _0x48ccd1=parseInt(_0x2d473a(0x1ea))/0x1*(parseInt(_0x2d473a(0x206))/0x2)+parseInt(_0x2d473a(0x1fe))/0x3+-parseInt(_0x2d473a(0x1e7))/0x4+-parseInt(_0x2d473a(0x1f9))/0x5*(parseInt(_0x2d473a(0x20a))/0x6)+parseInt(_0x2d473a(0x1eb))/0x7+parseInt(_0x2d473a(0x1fb))/0x8*(-parseInt(_0x2d473a(0x1ed))/0x9)+-parseInt(_0x2d473a(0x1ee))/0xa;if(_0x48ccd1===_0x47ebc6)break;else _0x43bdff['push'](_0x43bdff['shift']());}catch(_0x527caf){_0x43bdff['push'](_0x43bdff['shift']());}}}(_0x4777,0xabe7c));function _0x4777(){const _0x212bc7=['addOutputOptions','join','default','.webp','arraybuffer','save','writeFileSync','-vf','unlinkSync','337105ZqbEhl','toString','664dqxplY','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','Error\x20fetching\x20GIF:','2768805vHaEIJ','webp','path','axios','-vcodec','-preset','Could\x20not\x20fetch\x20image.','end','2426648coodHW','data','-loop','-an','18PWUIpp','readFileSync','fluent-ffmpeg','.gif','get','randomBytes','3189224qlbAXQ','error','hex','1lJPPtb','3638950rjJwXb','exports','35316AMPkcN','6267240vDBEKa','@ffmpeg-installer/ffmpeg'];_0x4777=function(){return _0x212bc7;};return _0x4777();}const axios=require(_0x5a8cef(0x201)),fs=require('fs'),path=require(_0x5a8cef(0x200)),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(_0x5a8cef(0x1ef))[_0x5a8cef(0x200)],ffmpeg=require(_0x5a8cef(0x20c));ffmpeg['setFfmpegPath'](ffmpegPath);function _0x5aa8(_0x21a012,_0x2b178b){const _0x47774d=_0x4777();return _0x5aa8=function(_0x5aa82d,_0x42f425){_0x5aa82d=_0x5aa82d-0x1e5;let _0x5cfc62=_0x47774d[_0x5aa82d];return _0x5cfc62;},_0x5aa8(_0x21a012,_0x2b178b);}async function fetchImage(_0x1067b9){const _0x84fd87=_0x5a8cef;try{const _0x30e563=await axios[_0x84fd87(0x1e5)](_0x1067b9,{'responseType':'arraybuffer'});return _0x30e563[_0x84fd87(0x207)];}catch(_0x1622e2){console[_0x84fd87(0x1e8)]('Error\x20fetching\x20image:',_0x1622e2);throw new Error(_0x84fd87(0x204));}}async function fetchGif(_0x22fa45){const _0x2f3f62=_0x5a8cef;try{const _0x87e7be=await axios[_0x2f3f62(0x1e5)](_0x22fa45,{'responseType':_0x2f3f62(0x1f4)});return _0x87e7be[_0x2f3f62(0x207)];}catch(_0x247852){console[_0x2f3f62(0x1e8)](_0x2f3f62(0x1fd),_0x247852);throw new Error('Could\x20not\x20fetch\x20GIF.');}}async function gifToSticker(_0x491ec2){const _0x4b7674=_0x5a8cef,_0x538aa1=path['join'](tmpdir(),Crypto[_0x4b7674(0x1e6)](0x6)[_0x4b7674(0x1fa)](_0x4b7674(0x1e9))+_0x4b7674(0x1f3)),_0x5a52f9=path[_0x4b7674(0x1f1)](tmpdir(),Crypto[_0x4b7674(0x1e6)](0x6)['toString'](_0x4b7674(0x1e9))+_0x4b7674(0x20d));fs[_0x4b7674(0x1f6)](_0x5a52f9,_0x491ec2),await new Promise((_0x22ad6d,_0x4c22f9)=>{const _0x221a55=_0x4b7674;ffmpeg(_0x5a52f9)['on'](_0x221a55(0x1e8),_0x4c22f9)['on'](_0x221a55(0x205),()=>_0x22ad6d(!![]))[_0x221a55(0x1f0)]([_0x221a55(0x202),'libwebp',_0x221a55(0x1f7),_0x221a55(0x1fc),_0x221a55(0x208),'0',_0x221a55(0x203),_0x221a55(0x1f2),_0x221a55(0x209),'-vsync','0'])['toFormat'](_0x221a55(0x1ff))[_0x221a55(0x1f5)](_0x538aa1);});const _0x8f3c12=fs[_0x4b7674(0x20b)](_0x538aa1);return fs[_0x4b7674(0x1f8)](_0x538aa1),fs[_0x4b7674(0x1f8)](_0x5a52f9),_0x8f3c12;}module[_0x5a8cef(0x1ec)]={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};