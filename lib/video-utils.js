const _0x2b50c0=_0x4a63;(function(_0x2df8ea,_0x27ad35){const _0x512d75=_0x4a63,_0xf06201=_0x2df8ea();while(!![]){try{const _0x376336=parseInt(_0x512d75(0xec))/0x1*(-parseInt(_0x512d75(0xed))/0x2)+-parseInt(_0x512d75(0xf5))/0x3*(-parseInt(_0x512d75(0xe4))/0x4)+-parseInt(_0x512d75(0xda))/0x5*(parseInt(_0x512d75(0xf6))/0x6)+-parseInt(_0x512d75(0xe1))/0x7*(parseInt(_0x512d75(0xe7))/0x8)+parseInt(_0x512d75(0xee))/0x9*(-parseInt(_0x512d75(0xf1))/0xa)+-parseInt(_0x512d75(0xf0))/0xb+parseInt(_0x512d75(0xde))/0xc*(parseInt(_0x512d75(0xf2))/0xd);if(_0x376336===_0x27ad35)break;else _0xf06201['push'](_0xf06201['shift']());}catch(_0x8a429){_0xf06201['push'](_0xf06201['shift']());}}}(_0x37a1,0xc7854));const fs=require('fs'),path=require('path'),{tmpdir}=require('os'),Crypto=require(_0x2b50c0(0xf4)),ffmpegPath=require('@ffmpeg-installer/ffmpeg')[_0x2b50c0(0xd6)],ffmpeg=require(_0x2b50c0(0xe8));function _0x4a63(_0x1fa292,_0x4b2c36){const _0x37a152=_0x37a1();return _0x4a63=function(_0x4a63d9,_0xc0a596){_0x4a63d9=_0x4a63d9-0xd4;let _0x3767f3=_0x37a152[_0x4a63d9];return _0x3767f3;},_0x4a63(_0x1fa292,_0x4b2c36);}function _0x37a1(){const _0x27f34a=['webp','1043rQePVe','-preset','.webp','16aBFNFn','unlinkSync','writeFileSync','63776DOIKgq','fluent-ffmpeg','libwebp','save','error','747683FioBeP','2cawGll','365571sRMcPp','randomBytes','7832352KAREES','170gUdcvG','21473127KfwakY','addOutputOptions','crypto','215829AUEzjK','6526842ticvUF','readFileSync','toString','-vsync','00:00:05','path','exports','-loop','toFormat','5PtfRbb','.mp4','readUIntLE','-an','36AFljFq','default'];_0x37a1=function(){return _0x27f34a;};return _0x37a1();}ffmpeg['setFfmpegPath'](ffmpegPath);async function videoToWebp(_0x51f6ab){const _0x270010=_0x2b50c0,_0xb65ea1=path['join'](tmpdir(),Crypto[_0x270010(0xef)](0x6)[_0x270010(0xdc)](0x0,0x6)[_0x270010(0xf8)](0x24)+_0x270010(0xe3)),_0x518b4b=path['join'](tmpdir(),Crypto[_0x270010(0xef)](0x6)[_0x270010(0xdc)](0x0,0x6)[_0x270010(0xf8)](0x24)+_0x270010(0xdb));fs[_0x270010(0xe6)](_0x518b4b,_0x51f6ab),await new Promise((_0x464dcc,_0x474b6c)=>{const _0x34adb8=_0x270010;ffmpeg(_0x518b4b)['on'](_0x34adb8(0xeb),_0x474b6c)['on']('end',()=>_0x464dcc(!![]))[_0x34adb8(0xf3)](['-vcodec',_0x34adb8(0xe9),'-vf','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse',_0x34adb8(0xd8),'0','-ss','00:00:00','-t',_0x34adb8(0xd5),_0x34adb8(0xe2),_0x34adb8(0xdf),_0x34adb8(0xdd),_0x34adb8(0xd4),'0'])[_0x34adb8(0xd9)](_0x34adb8(0xe0))[_0x34adb8(0xea)](_0xb65ea1);});const _0x4c06b1=fs[_0x270010(0xf7)](_0xb65ea1);return fs[_0x270010(0xe5)](_0xb65ea1),fs[_0x270010(0xe5)](_0x518b4b),_0x4c06b1;}module[_0x2b50c0(0xd7)]={'videoToWebp':videoToWebp};