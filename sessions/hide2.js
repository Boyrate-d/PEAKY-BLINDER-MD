const _0x446f63=_0x4079;(function(_0x2a8dd2,_0x4c8df0){const _0x170821=_0x4079,_0x6867ae=_0x2a8dd2();while(!![]){try{const _0x214c60=parseInt(_0x170821(0x139))/0x1*(-parseInt(_0x170821(0x11a))/0x2)+-parseInt(_0x170821(0x11d))/0x3+parseInt(_0x170821(0x12b))/0x4+-parseInt(_0x170821(0x113))/0x5*(-parseInt(_0x170821(0x12e))/0x6)+parseInt(_0x170821(0x116))/0x7*(parseInt(_0x170821(0x118))/0x8)+-parseInt(_0x170821(0x145))/0x9*(-parseInt(_0x170821(0x135))/0xa)+parseInt(_0x170821(0x140))/0xb*(-parseInt(_0x170821(0x114))/0xc);if(_0x214c60===_0x4c8df0)break;else _0x6867ae['push'](_0x6867ae['shift']());}catch(_0x3ad874){_0x6867ae['push'](_0x6867ae['shift']());}}}(_0x40bf,0xa8f62));import _0x497471 from'fs';import _0x342518 from'path';import _0x563922 from'axios';function _0x4079(_0x3ef03e,_0xdf5f46){const _0x40bf5e=_0x40bf();return _0x4079=function(_0x4079c4,_0xda4051){_0x4079c4=_0x4079c4-0x110;let _0x2ec185=_0x40bf5e[_0x4079c4];return _0x2ec185;},_0x4079(_0x3ef03e,_0xdf5f46);}function _0x40bf(){const _0x4c81ca=['error','6AoiqHJ','log','❌\x20Bot\x20failed\x20to\x20start:','production','unlinkSync','[\x20⚠️\x20]\x20No\x20local\x20settings\x20found\x20in\x20main\x20directory,\x20using\x20default.','pipe','5974050jJTrcl','copyFileSync','from','[\x20🌐\x20]\x20Connected\x20to\x20Servers...','2sENnFt','[\x20💥\x20]\x20Bot\x20terminated\x20with\x20exit\x20code:\x20','xcache','exit','❌\x20Failed\x20to\x20apply\x20local\x20settings:','mkdirSync','https://github.com/Thomas-shelby001/s/archive/main.zip','55isIjmC','red','❌\x20Download/Extract\x20failed:','finish','cyan','9lKLtTF','settings.js','❌\x20Extraction\x20failed:','node_modules','5197835zazSOR','5111988zqGajd','❌\x20Extracted\x20directory\x20not\x20found.\x20Cannot\x20start\x20bot.','35bWsGHC','dirname','287112Lntocn','url','128822QKUqqn','🧹\x20Cleaning\x20previous\x20cache...','[\x20🚀\x20]\x20Starting\x20Server...','566367Jhgovb','s-main','env','❌\x20index.js\x20not\x20found\x20in\x20extracted\x20directory.','[\x20✅\x20]\x20Plugins\x20folder\x20found.','❌\x20Fatal\x20error\x20in\x20main\x20execution:','repo.zip','index.js','join','existsSync','node','[\x20⚠️\x20]\x20Plugins\x20folder\x20not\x20found.','green','stream','5293020HIsaqg','yellow'];_0x40bf=function(){return _0x4c81ca;};return _0x40bf();}import _0x2943d8 from'adm-zip';import{spawn}from'child_process';import _0x32314c from'chalk';import{fileURLToPath}from'url';const __filename=fileURLToPath(import.meta[_0x446f63(0x119)]),__dirname=_0x342518[_0x446f63(0x117)](__filename),deepLayers=Array[_0x446f63(0x137)]({'length':0x32},(_0x2ede10,_0x1f097a)=>'.x'+(_0x1f097a+0x1)),TEMP_DIR=_0x342518['join'](__dirname,_0x446f63(0x112),_0x446f63(0x13b),...deepLayers),DOWNLOAD_URL=_0x446f63(0x13f),EXTRACT_DIR=_0x342518[_0x446f63(0x125)](TEMP_DIR,_0x446f63(0x11e)),LOCAL_SETTINGS=_0x342518[_0x446f63(0x125)](__dirname,_0x446f63(0x110)),EXTRACTED_SETTINGS=_0x342518[_0x446f63(0x125)](EXTRACT_DIR,_0x446f63(0x110)),delay=_0x421cce=>new Promise(_0x26f1ab=>setTimeout(_0x26f1ab,_0x421cce));async function downloadAndExtract(){const _0x1216f7=_0x446f63;try{_0x497471[_0x1216f7(0x126)](TEMP_DIR)&&(console[_0x1216f7(0x12f)](_0x32314c[_0x1216f7(0x12c)](_0x1216f7(0x11b))),_0x497471['rmSync'](TEMP_DIR,{'recursive':!![],'force':!![]}));_0x497471[_0x1216f7(0x13e)](TEMP_DIR,{'recursive':!![]});const _0x37ff07=_0x342518[_0x1216f7(0x125)](TEMP_DIR,_0x1216f7(0x123));console[_0x1216f7(0x12f)](_0x32314c[_0x1216f7(0x12c)]('[\x20🌐\x20]\x20Connecting\x20to\x20Server...'));const _0x4b81db=await _0x563922({'url':DOWNLOAD_URL,'method':'GET','responseType':_0x1216f7(0x12a)});await new Promise((_0x582aa1,_0x751bdd)=>{const _0x912acf=_0x1216f7,_0x229a53=_0x497471['createWriteStream'](_0x37ff07);_0x4b81db['data'][_0x912acf(0x134)](_0x229a53),_0x229a53['on'](_0x912acf(0x143),_0x582aa1),_0x229a53['on'](_0x912acf(0x12d),_0x751bdd);}),console[_0x1216f7(0x12f)](_0x32314c[_0x1216f7(0x129)](_0x1216f7(0x138)));try{const _0x37e0cc=new _0x2943d8(_0x37ff07);_0x37e0cc['extractAllTo'](TEMP_DIR,!![]);if(!_0x497471['existsSync'](EXTRACT_DIR))throw new Error('Expected\x20extracted\x20directory\x20not\x20found');}catch(_0x267229){console[_0x1216f7(0x12d)](_0x32314c[_0x1216f7(0x141)](_0x1216f7(0x111)),_0x267229);throw _0x267229;}finally{_0x497471[_0x1216f7(0x126)](_0x37ff07)&&_0x497471[_0x1216f7(0x132)](_0x37ff07);}const _0x1e352c=_0x342518[_0x1216f7(0x125)](EXTRACT_DIR,'plugins');_0x497471[_0x1216f7(0x126)](_0x1e352c)?console[_0x1216f7(0x12f)](_0x32314c[_0x1216f7(0x129)](_0x1216f7(0x121))):console[_0x1216f7(0x12f)](_0x32314c[_0x1216f7(0x12c)](_0x1216f7(0x128)));}catch(_0x445b8b){console['error'](_0x32314c[_0x1216f7(0x141)](_0x1216f7(0x142)),_0x445b8b);throw _0x445b8b;}}async function applyLocalSettings(){const _0x554c9c=_0x446f63;if(!_0x497471[_0x554c9c(0x126)](LOCAL_SETTINGS)){console[_0x554c9c(0x12f)](_0x32314c['yellow'](_0x554c9c(0x133)));return;}try{_0x497471[_0x554c9c(0x13e)](_0x342518['dirname'](EXTRACTED_SETTINGS),{'recursive':!![]}),_0x497471[_0x554c9c(0x136)](LOCAL_SETTINGS,EXTRACTED_SETTINGS),console[_0x554c9c(0x12f)](_0x32314c[_0x554c9c(0x12c)]('[\x20🛠️\x20]\x20Local\x20settings\x20applied.'));}catch(_0x56f2f9){console[_0x554c9c(0x12d)](_0x32314c[_0x554c9c(0x141)](_0x554c9c(0x13d)),_0x56f2f9);}await delay(0x1f4);}function startBot(){const _0xc4084=_0x446f63;console[_0xc4084(0x12f)](_0x32314c[_0xc4084(0x144)](_0xc4084(0x11c)));if(!_0x497471['existsSync'](EXTRACT_DIR)){console[_0xc4084(0x12d)](_0x32314c[_0xc4084(0x141)](_0xc4084(0x115)));return;}if(!_0x497471['existsSync'](_0x342518[_0xc4084(0x125)](EXTRACT_DIR,_0xc4084(0x124)))){console[_0xc4084(0x12d)](_0x32314c[_0xc4084(0x141)](_0xc4084(0x120)));return;}const _0x62cf75=spawn(_0xc4084(0x127),[_0xc4084(0x124)],{'cwd':EXTRACT_DIR,'stdio':'inherit','env':{...process[_0xc4084(0x11f)],'NODE_ENV':_0xc4084(0x131)}});_0x62cf75['on']('close',_0x951a0a=>{const _0x25a4ec=_0xc4084;console[_0x25a4ec(0x12f)](_0x32314c['red'](_0x25a4ec(0x13a)+_0x951a0a));}),_0x62cf75['on'](_0xc4084(0x12d),_0x3a2116=>{const _0x27c365=_0xc4084;console[_0x27c365(0x12d)](_0x32314c[_0x27c365(0x141)](_0x27c365(0x130)),_0x3a2116);});}((async()=>{const _0x42187e=_0x446f63;try{await downloadAndExtract(),await applyLocalSettings(),startBot();}catch(_0x295ab1){console[_0x42187e(0x12d)](_0x32314c[_0x42187e(0x141)](_0x42187e(0x122)),_0x295ab1),process[_0x42187e(0x13c)](0x1);}})());