const _0x2d7554=_0x5bac;function _0x3946(){const _0x11156a=['392425WbEoOx','path','convert','toString','exports','50xGgzfo','promises','../temp','2465529DAmyCD','child_process','-ac','readFile','@ffmpeg-installer/ffmpeg','now','-c:a','128k','catch','cleanFile','-b:a','writeFile','44100','3072222pbZBAF','opus','6728effUoT','toPTT','data','Conversion\x20failed\x20with\x20code\x20','existsSync','unlink','36vFlsax','1575RfWipA','462430zKQicE','407230xGGKXh','36pocKIj','join','tempDir','toAudio','-vn','ensureTempDir','50367PldUsr','mkdirSync','mp3','-ar'];_0x3946=function(){return _0x11156a;};return _0x3946();}(function(_0xe61ff7,_0x46266d){const _0x3e17c7=_0x5bac,_0x1302cc=_0xe61ff7();while(!![]){try{const _0x21f0c0=-parseInt(_0x3e17c7(0xb0))/0x1+-parseInt(_0x3e17c7(0xb1))/0x2+-parseInt(_0x3e17c7(0xb8))/0x3*(parseInt(_0x3e17c7(0xae))/0x4)+parseInt(_0x3e17c7(0xbc))/0x5*(parseInt(_0x3e17c7(0xb2))/0x6)+-parseInt(_0x3e17c7(0xaf))/0x7*(parseInt(_0x3e17c7(0xd3))/0x8)+-parseInt(_0x3e17c7(0xd1))/0x9+-parseInt(_0x3e17c7(0xc1))/0xa*(-parseInt(_0x3e17c7(0xc4))/0xb);if(_0x21f0c0===_0x46266d)break;else _0x1302cc['push'](_0x1302cc['shift']());}catch(_0x10a50b){_0x1302cc['push'](_0x1302cc['shift']());}}}(_0x3946,0x3b8a4));const fs=require('fs'),path=require(_0x2d7554(0xbd)),ffmpegPath=require(_0x2d7554(0xc8))[_0x2d7554(0xbd)],{spawn}=require(_0x2d7554(0xc5));class AudioConverter{constructor(){const _0x29dfd6=_0x2d7554;this['tempDir']=path['join'](__dirname,_0x29dfd6(0xc3)),this[_0x29dfd6(0xb7)]();}[_0x2d7554(0xb7)](){const _0x319214=_0x2d7554;!fs[_0x319214(0xac)](this[_0x319214(0xb4)])&&fs[_0x319214(0xb9)](this[_0x319214(0xb4)],{'recursive':!![]});}async[_0x2d7554(0xcd)](_0x2df9d9){const _0x2d3fff=_0x2d7554;_0x2df9d9&&fs[_0x2d3fff(0xac)](_0x2df9d9)&&await fs[_0x2d3fff(0xc2)][_0x2d3fff(0xad)](_0x2df9d9)[_0x2d3fff(0xcc)](()=>{});}async[_0x2d7554(0xbe)](_0x1f0bc3,_0x3536a1,_0x4d9c01,_0x1515b9){const _0xe963d8=_0x2d7554,_0x5e4203=path[_0xe963d8(0xb3)](this['tempDir'],Date[_0xe963d8(0xc9)]()+'.'+_0x4d9c01),_0x253901=path[_0xe963d8(0xb3)](this[_0xe963d8(0xb4)],Date['now']()+'.'+_0x1515b9);try{return await fs[_0xe963d8(0xc2)][_0xe963d8(0xcf)](_0x5e4203,_0x1f0bc3),new Promise((_0x252117,_0x5d65fc)=>{const _0x259a96=_0xe963d8,_0x23a8ed=spawn(ffmpegPath,['-y','-i',_0x5e4203,..._0x3536a1,_0x253901],{'timeout':0x7530});let _0x560a55='';_0x23a8ed['stderr']['on'](_0x259a96(0xaa),_0x39f1b1=>_0x560a55+=_0x39f1b1[_0x259a96(0xbf)]()),_0x23a8ed['on']('close',async _0x568109=>{const _0x1df3c1=_0x259a96;await this[_0x1df3c1(0xcd)](_0x5e4203);if(_0x568109!==0x0)return await this[_0x1df3c1(0xcd)](_0x253901),_0x5d65fc(new Error(_0x1df3c1(0xab)+_0x568109));try{const _0x2f5c5c=await fs[_0x1df3c1(0xc2)][_0x1df3c1(0xc7)](_0x253901);await this['cleanFile'](_0x253901),_0x252117(_0x2f5c5c);}catch(_0x26ea22){_0x5d65fc(_0x26ea22);}}),_0x23a8ed['on']('error',_0x548c71=>{_0x5d65fc(_0x548c71);});});}catch(_0x302232){await this[_0xe963d8(0xcd)](_0x5e4203),await this[_0xe963d8(0xcd)](_0x253901);throw _0x302232;}}[_0x2d7554(0xb5)](_0xada8b9,_0xefcc28){const _0x255b6d=_0x2d7554;return this[_0x255b6d(0xbe)](_0xada8b9,[_0x255b6d(0xb6),_0x255b6d(0xc6),'2',_0x255b6d(0xce),_0x255b6d(0xcb),_0x255b6d(0xbb),_0x255b6d(0xd0),'-f',_0x255b6d(0xba)],_0xefcc28,_0x255b6d(0xba));}[_0x2d7554(0xd4)](_0x1834af,_0x2a3077){const _0x4f865b=_0x2d7554;return this[_0x4f865b(0xbe)](_0x1834af,[_0x4f865b(0xb6),_0x4f865b(0xca),'libopus',_0x4f865b(0xce),_0x4f865b(0xcb),'-vbr','on','-compression_level','10'],_0x2a3077,_0x4f865b(0xd2));}}function _0x5bac(_0x481ba1,_0x378f10){const _0x394697=_0x3946();return _0x5bac=function(_0x5bac8e,_0x1521e3){_0x5bac8e=_0x5bac8e-0xaa;let _0x44f5ec=_0x394697[_0x5bac8e];return _0x44f5ec;},_0x5bac(_0x481ba1,_0x378f10);}module[_0x2d7554(0xc0)]=new AudioConverter();